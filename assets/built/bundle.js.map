{"version":3,"sources":["infinitescroll.js","jquery.fitvids.js"],"names":["window","document","nextElement","querySelector","feedElement","loading","getElementById","addEventListener","onUpdate","passive","remove","onPageLoad","this","status","response","querySelectorAll","forEach","item","appendChild","resNextElement","href","removeEventListener","xhr","XMLHttpRequest","responseType","open","send","$","fn","fitVids","options","settings","customSelector","ignore","head","getElementsByTagName","div","createElement","innerHTML","childNodes","extend","each","selectors","push","ignoreList","$allVideos","find","join","not","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","aspectRatio","parseInt","height","width","videoName","_count","wrap","removeAttr","jQuery","Zepto"],"mappings":"CAIA,SAAAA,EAAAC,GAEA,IAAAC,EAAAD,EAAAE,cAAA,kBACA,GAAAD,EAAA,CAMA,IAAAE,EAAAH,EAAAE,cAAA,cACA,GAAAC,EAAA,CAEA,IAAAC,GAAA,EA6CAJ,EACAK,eAAA,eACAC,iBAAA,QAAAC,EAAA,CAAAC,SAAA,UAvDAR,EAAAE,cAAA,kBAAAO,SAUA,SAAAC,IACA,GAAA,MAAAC,KAAAC,OAAA,CAOAD,KAAAE,SAAAC,iBAAA,cACAC,QAAA,SAAAC,GACAb,EAAAc,YAAAD,KAIA,IAAAE,EAAAP,KAAAE,SAAAX,cAAA,kBACAgB,EACAjB,EAAAkB,KAAAD,EAAAC,MAEAnB,EACAK,eAAA,eACAe,oBAAA,QAAAb,GACAP,EAAAE,cAAA,kBAAAO,UAIAL,GAAA,OAvBAJ,EACAK,eAAA,eACAe,oBAAA,QAAAb,GAwBA,SAAAA,IAEA,IAAAH,EAAA,CAEAA,GAAA,EAEA,IAAAiB,EAAA,IAAAtB,EAAAuB,eACAD,EAAAE,aAAA,WAEAF,EAAAf,iBAAA,OAAAI,GAEAW,EAAAG,KAAA,MAAAvB,EAAAkB,MACAE,EAAAI,KAAA,QAtDA,CA4DA1B,OAAAC,UCnDA,SAAA0B,GACA,aAEAA,EAAAC,GAAAC,QAAA,SAAAC,GACA,IAAAC,EAAA,CACAC,eAAA,KACAC,OAAA,MAGA,IAAAhC,SAAAK,eAAA,kBAAA,CAEA,IAAA4B,EAAAjC,SAAAiC,MAAAjC,SAAAkC,qBAAA,QAAA,GAGAC,EAAAnC,SAAAoC,cAAA,OACAD,EAAAE,UAAA,oUACAJ,EAAAhB,YAAAkB,EAAAG,WAAA,IAOA,OAJAT,GACAH,EAAAa,OAAAT,EAAAD,GAGAlB,KAAA6B,KAAA,WACA,IAAAC,EAAA,CACA,kCACA,6BACA,sCACA,oDACA,qCACA,SACA,SAGAX,EAAAC,gBACAU,EAAAC,KAAAZ,EAAAC,gBAGA,IAAAY,EAAA,iBAEAb,EAAAE,SACAW,EAAAA,EAAA,KAAAb,EAAAE,QAGA,IAAAY,EAAAlB,EAAAf,MAAAkC,KAAAJ,EAAAK,KAAA,OAIAF,GAFAA,EAAAA,EAAAG,IAAA,kBAEAA,IAAAJ,IAEAH,KAAA,WACA,IAAAQ,EAAAtB,EAAAf,MACA,KAAA,EAAAqC,EAAAC,QAAAN,GAAAO,QAKA,UAAAvC,KAAAwC,QAAAC,eACAJ,EAAAK,OAAA,UAAAH,QACAF,EAAAK,OAAA,8BAAAH,QAHA,CAQAF,EAAAM,IAAA,WACAN,EAAAM,IAAA,WACAC,MAAAP,EAAAQ,KAAA,aAAAD,MAAAP,EAAAQ,KAAA,YAEAR,EAAAQ,KAAA,SAAA,GACAR,EAAAQ,KAAA,QAAA,KAEA,IAQAC,GAPA,WAAA9C,KAAAwC,QAAAC,eACAJ,EAAAQ,KAAA,YAAAD,MAAAG,SAAAV,EAAAQ,KAAA,UAAA,KACAE,SAAAV,EAAAQ,KAAA,UAAA,IACAR,EAAAW,WACAJ,MAAAG,SAAAV,EAAAQ,KAAA,SAAA,KAEAR,EAAAY,QADAF,SAAAV,EAAAQ,KAAA,SAAA,KAGA,IAAAR,EAAAQ,KAAA,QAAA,CACA,IAAAK,EAAA,SAAAnC,EAAAC,GAAAC,QAAAkC,OACAd,EAAAQ,KAAA,OAAAK,GACAnC,EAAAC,GAAAC,QAAAkC,SAEAd,EACAe,KACA,gGAEAV,OAAA,8BACAC,IAAA,cAAA,IAAAG,EAAA,KACAT,EAAAgB,WAAA,UAAAA,WAAA,eAMAtC,EAAAC,GAAAC,QAAAkC,OAAA,EAjGA,CAoGA/D,OAAAkE,QAAAlE,OAAAmE","file":"bundle.js","sourcesContent":["/**\n * Infinite Scroll\n */\n\n(function (window, document) {\n  // next link element\n  var nextElement = document.querySelector('link[rel=next]');\n  if (!nextElement) {\n    document.querySelector('.read-more-row').remove();\n    return;\n  }\n\n  // post feed element\n  var feedElement = document.querySelector('.post-feed');\n  if (!feedElement) return;\n\n  var loading = false;\n\n  function onPageLoad() {\n    if (this.status === 404) {\n      document\n        .getElementById('readMoreBtn')\n        .removeEventListener('click', onUpdate);\n      return;\n    }\n    // append contents\n    var postElements = this.response.querySelectorAll('.post-card');\n    postElements.forEach(function (item) {\n      feedElement.appendChild(item);\n    });\n\n    // set next link\n    var resNextElement = this.response.querySelector('link[rel=next]');\n    if (resNextElement) {\n      nextElement.href = resNextElement.href;\n    } else {\n      document\n        .getElementById('readMoreBtn')\n        .removeEventListener('click', onUpdate);\n      document.querySelector('.read-more-row').remove();\n    }\n\n    // sync status\n    loading = false;\n  }\n\n  function onUpdate() {\n    // return if already loading\n    if (loading) return;\n\n    loading = true;\n\n    var xhr = new window.XMLHttpRequest();\n    xhr.responseType = 'document';\n\n    xhr.addEventListener('load', onPageLoad);\n\n    xhr.open('GET', nextElement.href);\n    xhr.send(null);\n  }\n\n  document\n    .getElementById('readMoreBtn')\n    .addEventListener('click', onUpdate, { passive: true });\n})(window, document);\n","/* eslint-disable max-len */\n/* jshint browser:true */\n/* !\n * FitVids 1.3\n *\n *\n * Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n * This is an unofficial release, ported by John O'Nolan\n * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n * Released under the MIT license\n *\n */\n\n(function ($) {\n  'use strict';\n\n  $.fn.fitVids = function (options) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if (!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css =\n        '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if (options) {\n      $.extend(settings, options);\n    }\n\n    return this.each(function () {\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'iframe[src*=\"player.bilibili.com\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if (settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      // SwfObj conflict patch\n      $allVideos = $allVideos.not('object object');\n      // Disable FitVids on this video.\n      $allVideos = $allVideos.not(ignoreList);\n\n      $allVideos.each(function () {\n        var $this = $(this);\n        if ($this.parents(ignoreList).length > 0) {\n          // Disable FitVids on this video.\n          return;\n        }\n        if (\n          (this.tagName.toLowerCase() === 'embed' &&\n            $this.parent('object').length) ||\n          $this.parent('.fluid-width-video-wrapper').length\n        ) {\n          return;\n        }\n        if (\n          !$this.css('height') &&\n          !$this.css('width') &&\n          (isNaN($this.attr('height')) || isNaN($this.attr('width')))\n        ) {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height =\n            this.tagName.toLowerCase() === 'object' ||\n            ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10)))\n              ? parseInt($this.attr('height'), 10)\n              : $this.height(),\n          width = !isNaN(parseInt($this.attr('width'), 10))\n            ? parseInt($this.attr('width'), 10)\n            : $this.width(),\n          aspectRatio = height / width;\n        if (!$this.attr('name')) {\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this\n          .wrap(\n            '<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>'\n          )\n          .parent('.fluid-width-video-wrapper')\n          .css('padding-top', aspectRatio * 100 + '%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Works with either jQuery or Zepto\n})(window.jQuery || window.Zepto);\n"]}